<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="https://miro.com/app/static/styles.1.0.css"/>
    <script type="text/javascript" src="https://miro.com/app/static/sdk.1.1.js"></script>
</head>
<body>
    <div style="width: 100%; height: 100%; display: flex;">
        <div style="display: flex; width: 100%; justify-content: center; align-items: center; flex-direction: column;">

            <div style="width: 100px; height: 100px;">
            <svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <g id="icon-24" stroke="currentColor" stroke-width="2" fill="none" fill-rule="evenodd">
                    <path d="M12 12 L 12 4 M12 12 L 18 12"/>
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="12" r="1" fill="currentColor"/>
                </g>
            </svg>
            </div>

            <h2 style="margin: 30px 0;">Please, authorize Estimate to collaborate with your team</h2>
            <button class="miro-btn miro-btn--primary">Authorize</button>
        </div>
    </div>
<script>
    document.querySelector('button').addEventListener('click', function () {
        const authorizeOptions = {
            response_type: 'token',
            redirect_uri: 'https://' + window.location.host + '/auth/success.html'
        }
        miro.authorize(authorizeOptions)
            .then(() => miro.getToken())
            .then((token) => {
                if (token) {
                    miro.board.ui.closeModal('success')
                } else {
                    console.log('Something went wrong')
                }
            })
    })
</script>
</body>
</html>